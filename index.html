<html>
<head>
<title>nuken | Online Editor</title> 
<meta name="viewport" content="width=device-width, initial-scale=1">
<link REL="SHORTCUT ICON" HREF="program_files/images/logo.png">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta charset="utf-8">
<meta name="keywords" content="html downloader tool">
<meta name="description" content="nuken allows you to create webpage files in your browser. Fast, free, and all offline!">
<meta name="author" content="Brett Docherty">
<meta name="author" content="Chandler Mrotzek">
<meta name="viewport" content="width=device-width, initial-scale=1.0"><!-- this makes sure that the webpage is supported on all devices -->
<style>
@font-face {
  font-family: "fonty";
  src: url("program_files/styles/font.ttf");

}
body, html {
background-color: white;
background-repeat:no-repeat;
background-position:center;
color:black;
font-family: 'fonty', sans-serif;
font-size:15px;
overflow:hidden;
overflow-x:hidden;
overflow-y:hidden;
transition: all 0.5s;
height: 100%;
margin: 0px;
cursor: default;

}

.popup button {
color:white;
background-color:black;
}
#create, #exporter {
z-index:10000000000000000000000000000;
}
#playbutton {
z-index:0;
}
body {
 

    -webkit-animation: fadein 2s; /* Safari, Chrome and Opera > 12.1 */
       -moz-animation: fadein 2s; /* Firefox < 16 */
        -ms-animation: fadein 2s; /* Internet Explorer */
         -o-animation: fadein 2s; /* Opera < 12.1 */
            animation: fadein 2s;
}

@keyframes fadein {
    from { opacity: 0; }
    to   { opacity: 1; }
}

/* Firefox < 16 */
@-moz-keyframes fadein {
    from { opacity: 0; }
    to   { opacity: 1; }
}

/* Safari, Chrome and Opera > 12.1 */
@-webkit-keyframes fadein {
    from { opacity: 0; }
    to   { opacity: 1; }
}

/* Internet Explorer */
@-ms-keyframes fadein {
    from { opacity: 0; }
    to   { opacity: 1; }
}

/* Opera < 12.1 */
@-o-keyframes fadein {
    from { opacity: 0; }
    to   { opacity: 1; }
}

.content {
padding-left:10px;
}

.h1 {
text-align:center;
background-color:black;
font-size: 2em;
color:white;
padding:15px;
}


h6 {
font-size:15px;
}
textarea {
  width: 100%;
  min-height: 100px;
  
}

#create,#createoutput, .editor_action_bar .editor_button button {
background-color:black;color:white;border:none;padding:10px;border-radius:12px;margin:0px;
}

#create:hover, #createoutput:hover, .editor_action_bar .editor_button button:hover  {
background-color:black;
transform: scale(1.05);
cursor:pointer;
transition:all 0.2s;
border-radius:10px;
}

#downloader:hover {
transition:all 0.5s;
transform:scale(1.05);
cursor:pointer;
}

#downloader2:hover {
transition:all 0.5s;
transform:scale(1.05);
cursor:pointer;
}

.butt:after {
  content: "";
  position: absolute;
  top: 0%;
  left: -100%;
  width: 100%;
  height: 100%;
  opacity: 50%;
  background: white;
  background: linear-gradient(
    to right, 
    #ffffff00 0%,
    #ffffff50 77%,
    #ffffff50 92%,
    #ffffff00 100%
  );
}

.butt:hover:after {
  opacity: 1;
  top: 0%;
  left: 100%;
  transition-property: left, top, opacity;
  transition-duration: 0.7s, 0.7s, 0.15s;
  transition-timing-function: ease;
}



.box {
  width: 40%;
  margin: 0 auto;
  background: rgba(255,255,255,0.2);
  padding: 35px;
  border: 2px solid #fff;
  border-radius: 20px/50px;
  background-clip: padding-box;
  text-align: center;
}

.button {
  font-size: 1em;
  padding: 10px;
  color: #fff;
  border: 2px solid #111;
  border-radius: 20px/50px;
  text-decoration: none;
  cursor: pointer;
  transition: all 0.3s ease-out;
}
.button:hover {
  background: #06D85F;
}

.overlay {
  position: fixed;
  top: 50;
  bottom: 0;
  left: 0;
  right: 0;
  background: #000000c0;
  transition: opacity 500ms;
  visibility: hidden;
  opacity: 0;
}
.overlay:target {
  visibility: visible;
  opacity: 1;
}

.popup {
  margin: 70px auto;
  padding: 20px;
  background: #fff;
  border-radius:15px;
  width: 30%;
  position: relative;
  transition: all 0.5s ease-in-out;
}

.popup h2 {
  margin-top: 0;
  color: #33333300;
  font-family: Tahoma, Arial, sans-serif;
}
.popup .close {
  position: absolute;
  top: 20px;
  right: 30px;
  transition: all 200ms;
  font-size: 30px;
  
  font-weight: bold;
  text-decoration: none;
  color: #33333300;
}
.popup .close:hover {
  color: #06D85F;
}
.popup .content {
  max-height: 30%;
  overflow: auto;
}

@media screen and (max-width: 700px){
  .box{
    width: 70%;

  }
  .popup{
    width: 70%;
  }
}

.tools:hover {
cursor:pointer;
transition: all 0.5s;
transform: scale(1.05);
}

#shop_icon:hover {
cursor:pointer;
}

.editor_action_bar {
	background-color: black;
	height: 56px;
	color:white;
}

.editor_action_bar .editor_button  {
	height: 36px;
	display: inline-block;
	font-size: 1em;
	padding: 10px;
	text-decoration: none;
	cursor: pointer;
	transition: all 0.3s ease-out;
	float:right;
}

.editor_action_bar input  {
	
	float:left;
}
.left_frame {
	float: left;
	width: -moz-calc(33% - 2px);
	width: -webkit-calc(33% - 2px);
	width: calc(33% - 2px);

}
.right_frame {
	width: 67%;
	float: right;
}
.right_frame, .left_frame {
	//assuming that 80px + editor bar 56px for borders is the header's height
	height: -moz-calc(100% - 136px);
	height: -webkit-calc(100% - 136px);
	height: calc(100% - 136px);
}
.dropdown {
	position: absolute;
	z-index: 100; 

}

#textbox {
outline-color:black;
background-color:#e9e9e9;
color:black;
animation: textboxanimation 5s linear 2s infinite alternate;
padding:20px;
}
#cssbox {
outline-color:black;
background-color:#e9e9e9;
color:black;
animation: textboxanimation 5s linear 2s infinite alternate;
padding:20px;
}
#box {
outline-color:white;
}
#titlebox, #logo {
outline-color:white;
background-color:black;
color:white;
float:left;
animation: textboxanimation 5s linear 2s infinite alternate;
focus:none;
font-family: fonty;
font-size:15px;
}

#filebox {
outline-color:black;
}
.dropdown_content {
	position: relative;
	background-color: #FFF;
	border: 0.5px solid #111;
	display: inline-block;
	border-radius: 1px;
	padding: 10px;
	top: 10px;
	left:-10px;
	transition: all 0.5s;
	border-top: 0.5px solid Transparent;
	box-shadow: 10px 10px 20px #66666650;
	
}
#dl_dropdown  {
margin-left:-150px;
}
.right {
	float:right;
	
}
.right .dropdown .dropdown_content {
	/*assuming that the dropdown content is 180px*/
	right:180px;
}
h1 {
	margin: 0px;
}
textarea {
	resize: none;
}
iframe {
	border: 0px solid #FFF;
	width: 100%;
	height: 100%;
}

.inline-block {
	display: inline-block;
}

.dropdown_button {
	margin: 5px 10px;
	font-size: 12px;
}
.dropdown_icon {
	padding: 10px 10px;
	width: 30px; margin: 0px auto 10px auto;
	text-align: center;
}
#reloader:hover {
transition:all 0.5s;
transform:rotate(360deg);

}


#slot1, #slot2, #slot3 {
padding:4.5px;
}

#inverter:hover {
transition:all 0.5s;
transform:scaleX(-1);

}


.addons {
  position: relative;
  display: inline-block;
}

.addons-content {
  display: none;
  position: absolute;
  background-color: #f9f9f9;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  padding: 12px 16px;
  z-index: 1;
  
}

.addons:hover .addons-content {
  display: block;
margin-top:9px;
margin-left:-75px;
border: 0.5px solid gray;
border-top: 0.5px solid Transparent; 
color:black;
}


@keyframes textboxanimation {
  0%   {outline-color:white;}
  50%  {outline-color:black; }
  100% {outline-color:white; }
}
#import_dropdown {
color:black;
width:5%;
margin-left:-12px;
}

#preview:hover {
transition:all 0.5s;
transform: matrix(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
}

#preview_frame {
height:100%;
}

button {
outline:none;
}

.playa{
  position: relative;
  display: inline-block;
}

.playa-content {
  opacity:0%;
  position: absolute;
  background-color: #f9f9f9;
  min-width: 90px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  padding: 10px;
  z-index: 1;
  
}

.playa:hover .playa-content {
  opacity:100%;
margin-top:7px;
margin-left:-35px;
border: 0.5px solid gray;
border-top: 0.5px solid Transparent; 
color:black;
}

.addon-body {
width:100%;
height:65%;
scrolling:no;
}
#download_button:hover, #download_button2:hover {
cursor:pointer;
transition:all 1s;
transform:scale(1.025);
z-index:-1;

}
</style>
</head>
<body>
<div id="popup1" class="overlay">
	<div class="popup" >
		<h1>Are you sure about this?</h1>
		<br>
		<a id = "closer" style = "display:none;" class="close" href="#">&times;</a>
		<div class="content">
			We advise you to save your work before reloading the page. Are you sure you want to do this anyway?
			<br>
			<br>
			<button style = "cursor:pointer;padding:10px;border:none;border-radius:10px;width:30%;"onclick = "document.getElementById('closer').click();window.location.reload(true);">Reload</button>
			<button style = "cursor:pointer;padding:10px;border:none;border-radius:10px;width:30%;"onclick = "document.getElementById('closer').click();">Don't</button>
		</div>
	</div>
</div>	


<div id="popup2" class="overlay">
<img width = "25%" style = "filter:invert(100%);float:left;padding-top:25%;padding-left:0%" title = "Your file will appear as an icon somehwere right here..." src = "program_files/images/down.gif"></img>
	<div class="popup"style = "height:75%;max-height:75%;width:35%;" >
	<center>
		<h1 style = "background-color:black;color:white;padding:10px;" >Your download is complete!</h1>
		</center>
		<br>
		<a id = "closer" style = "display:none;" class="close" href="#">&times;</a>
		<div class="content"style = "height:75%;max-height:75%;font-size:14.5px;" >
			We hope you enjoy. Features of the offline nuken web app include:
			<br>
			<br>
			<li>Full offline access, wherever you are</li>
			<br>
			<li>Themes, add-ons, and more templates available</li>
			<br>
			<li>Portability, ease of use, documentation</li>
			<br>
			<li>Extra features and modifications</li>
			<br>
			<br>
			If you'd like to report an issue with your new setup, please do so by using the form below. You can still continue to use this online editor even with the offline web app installed. Have fun, we look forward to seeing what you will create with nuken!
			<br>
			<br>
			<center>
			<button style = "cursor:pointer;padding:7px;border:none;border-radius:10px;width:40%;"onclick = "document.getElementById('closer').click();">Sounds good!</button>
<a style = "display:none" id = "hyet!" href = "https://forms.gle/uVLVYTCUYiCddewS9" target= "_blank"></a>

			<button style = "cursor:pointer;padding:7px;border:none;border-radius:10px;width:40%;"onclick = "document.getElementById('hyet!').click();">I have an issue...</button>
		</center>
		</div>
	</div>
</div>	

<div id="nukenED" class="overlay">
<img width = "25%" style = "filter:invert(100%);float:left;padding-top:25%;padding-left:0%" title = "Your file will appear as an icon somehwere right here..." src = "program_files/images/down.gif"></img>
	<div class="popup"style = "height:75%;max-height:75%;width:35%;" >
	<center>
		<h1 style = "background-color:black;color:white;padding:10px;" >Your download is complete!</h1>
		</center>
		<br>
		<a id = "closer" style = "display:none;" class="close" href="#">&times;</a>
		<div class="content"style = "height:75%;max-height:75%;font-size:14px;" >
			Now that you've downloaded the web app, educator, be sure to:
			<br>
			<br>
			<li>Use the included template to create your own hands-on lessons</li>
			<br>
			<li>Install add-ons that are approved for use with nuken Education</li>
			<br>
			<li>Zip the complete build and distribute it to your students</li>
			<br>
			<li>Come to us with any questions you may have about nuken!</li>
			<br>
			<br>
			If you'd like to report an issue with your new setup, please do so by using the form below. You can still continue to use this online editor even with nuken Education installed.
			<br>
			<br>
			<center>
			<button style = "cursor:pointer;padding:7px;border:none;border-radius:10px;width:40%;"onclick = "document.getElementById('closer').click();">Sounds good!</button>
<a style = "display:none" id = "hyet!" href = "https://forms.gle/uVLVYTCUYiCddewS9" target= "_blank"></a>

			<button style = "cursor:pointer;padding:7px;border:none;border-radius:10px;width:40%;"onclick = "document.getElementById('hyet!').click();">Report an issue</button>
		</center>
		</div>
	</div>
</div>	




<div class = "editor_action_bar">
<img  title = "nuken" style = "padding:0px;margin-top:10px;margin-left:15px;border-width:0px;border-style:solid;"id = "logo" width = "2.75%" src ="program_files/images/logo.png"></img>

		
		<input value="Page Title" title = "Always the hardest part, isn't it?" style = "padding:10px;margin-top:12.5px;margin-left:40px;border-width:0px;border-style:solid;"id="titlebox"/> 
	<div class="editor_button right" onmouseenter="document.getElementById('dl_dropdown').style.display='block'" onmouseover="document.getElementById('dl_dropdown').style.display='block'"  onmouseout="document.getElementById('dl_dropdown').style.display='none'">
		<button id="create" style = "z-index:1000000;"><img id = "exporter"width = "17px;" style = "z-index:99999;filter:invert(100%);background-color:Transparent;"src = "program_files/images/export.gif"></img></button>
		<div  id="dl_dropdown" class="dropdown" style="display: none;"><div class="dropdown_content">
		
			<input title = "Go ahead. Be creative." style = "padding:10px;background-color:#e9e9e9;border-width:0px;border-style:solid;" id="filebox" value="index.html"/>
			<a download="index.html" id="downloadlink" style="display: none">Download</a>
			
		</div></div>
	</div>
	<div class="editor_button playa">
		<button id="preview" onmouseleave = "document.getElementById('playa-content').style.opacity='0%'" onmouseover = "document.getElementById('playa-content').style.opacity='100%'"><img id = "playbutton" onclick = "document.getElementById('preview').click();" width = "17px;" style = "filter:invert(100%) contrast(150%);background-color:Transparent;"src = "program_files/images/play.gif"></img></button>
	<div class="playa-content">
<input id = "checker_mccheckerson" style = "margin-right:5px;"type = "checkbox"></input>	
Auto-run
  </div>
	</div>
		
	<div class="editor_button" title = "Import" onmouseover="show_templates('import_list'); document.getElementById('import_dropdown').style.display='block'"  onmouseout="document.getElementById('import_dropdown').style.display='none'">
		<button><img width = "17px;" id = "importer"style = "filter:invert(100%);background-color:Transparent;"src = "program_files/images/import.gif"></img></button>
		<div  id="import_dropdown" class="dropdown" style="display: none; z-index: 1;"><div id="import_list" class="dropdown_content">			
				<a title="hello">one</a>
		</div></div>
	</div>	
	
	

		
	<div class="editor_button" onmouseover="document.getElementById('tools_dropdown').style.display='block'"  onmouseout="document.getElementById('tools_dropdown').style.display='none'">
		<button><img id = "tooler"width = "17px;" style = "filter:invert(100%);background-color:Transparent;"src = "program_files/images/tools.gif"></img></button>
		<div  id="tools_dropdown" class="dropdown" style="display: none; z-index: 1;"><div class="dropdown_content">
		   <img  src = "program_files/images/shop.gif" class = "tools"id = "shop_icon" width = "15%"title = "nuken Theme Shop"style = "padding:5px;filter:invert(100%);border-radius:5px;"onclick = "window.location.replace('program_files/shop.html');"></img>
			<img class = "tools" id = "inverter" style = "width:15%;text-align:center;position:relative;background-color:#ffffff00;color:white;" title = "Invert the display" onclick = "darken()" width = "50px;" src = "program_files/images/invert.gif"></img>
			<img class = "tools" id = "reloader" style = "width:15%;text-align:center;position:relative;;background-color:#ffffff00;color:white;" title = "Reload the page" onclick = "document.getElementById('puppy').click();" width = "50px;" src = "program_files/images/reload.gif"></img>
			<img class = "tools" id = "showandtell" style = "width:24%;text-align:center;position:relative;background-color:#ffffff00;color:white;filter:contrast(110%);" title = "Tell your friends!" onclick = "mailer()" width = "50px" src = "program_files/images/share.gif"></img>
			<img class = "tools" id = "github" style = "width:16%;text-align:center;position:relative;background-color:#ffffff00;color:white;filter:contrast(110%);" title = "Contribute to the project" onclick = "github()" width = "50px" src = "program_files/images/github.gif"></img>

			<a id = "puppy"class="button" style = "display:none;"href="#popup1"></a>
						<a id = "puppy2"class="button" style = "display:none;"href="#popup2"></a>
						<a id = "puppyED"class="button" style = "display:none;"href="#nukenED"></a>
						<a id = "puppy3"class="button" style = "display:none;"href="#popup3"></a>
			<a id = "addon1button"class="button" style = "display:none;"href="#addon1"></a>
			<a id = "addon2button"class="button" style = "display:none;"href="#addon2"></a>
			<a id = "addon3button"class="button" style = "display:none;"href="#addon3"></a>
			
			<a id="supersecretmail" target = "_blank"href ="mailto:Enter your friend's emails here.?subject=Check this out!&body=I've been using this great new HTML file editor, nuken! It allows me to edit my webpage files in-browser, and even has an offline web-app that lets you preview the HTML on the same page. If you want to get in on the action, here's the link: %0D%0A%0D%0Ahttps://chanman805.github.io/nuken %0D%0A%0D%0AYou're gonna love it!"></a>
			<a target = "_blank" id = "gitty" style = "display:none" href = "https://github.com/chanman805/HTML"></a>
			<a id = "nukeny"style = "display:none" href ="program_files/packages/packages/nuken.zip"></a>
<a id = "nukeny2"style = "display:none" href ="program_files/packages/packages/nuken_education.zip"></a>

		</div></div>
	</div>		
<img  src = "program_files/images/shop.gif" class = "editor_button"id = "shop_icon" title = "nuken Theme Shop"style = "transform:scale(0.75);padding:5px;padding-top:10px;filter:invert(0%);border-radius:5px;"onclick = "window.location.replace('program_files/shop.html');"></img>
			
			
</div>

<div class="left_frame">

<textarea title = "Almost done!" style = "width:100%; height: 56.5%;border-width:0px;border-style:solid;" id="cssbox">
body {

}</textarea>	
<textarea title = "You got this." style = "width:100%;  height: 56.5%;border-width:0px;border-style:solid;" id="textbox"></textarea>
</div>	

<div class="right_frame" id="preview_frame">
	<div style = "margin: 20px auto; margin-top:70px; width: 50%; text-align:center"><img id = "bigpreview"src = "program_files/images/download.gif" style = "margin: 0px auto; width: 100%" ></img></div>
		<p style = "text-align:center; margin: 10px auto;padding:10px;width:80%;" >Your previewed files will appear here</p>
		<p id = "download_button" onclick = "downloadnuken()" style  ="text-align:center; margin: 10px auto;padding:10px;width:80%;background-color:black;color:white;border-radius:10px;letter-spacing:-0.5px;" >Download our offline web app for more features | nuken v5.0</p>
		<p id = "download_button2" onclick = "downloadnukenED()" style  ="text-align:center; margin: 10px auto;padding:10px;width:80%;background-color:black;color:white;border-radius:10px;letter-spacing:-0.5px;" >Download nuken for the classroom | nuken Education v 1.0</p>
		
	</div>
	
</div>
<script>
var downloadnuken = function(){
document.getElementById("puppy2").click();
document.getElementById("download_button").blur();
document.getElementById("download_button").style.marginTop="150%";
document.getElementById("nukeny").click();
};
var downloadnukenED = function(){
document.getElementById("puppyED").click();
document.getElementById("download_button2").blur();
document.getElementById("download_button2").style.marginTop="150%";
document.getElementById("nukeny2").click();
}
var uptodate = true;
var themefound = false;
var themeverifier = false;
var autorun = false;
window.addEventListener("keydown", event => {
if (document.getElementById("checker_mccheckerson").checked===true){
document.getElementById("playbutton").style.transition = "all 0.5s";
document.getElementById("playbutton").style.filter = "invert(100%) brightness(78%) sepia(100) saturate(100) hue-rotate(125deg)";
document.getElementById("preview").click();
  } else {
  document.getElementById("playbutton").style.transition = "all 0.5s";
document.getElementById("playbutton").style.filter = "invert(100%) contrast(150%)";
  }
});



var github = function(){
document.getElementById("gitty").click();
};
var mailer = function(){
document.getElementById("supersecretmail").click();
};
var isdark=false;
var darken = function(){
if (isdark===false){
document.documentElement.style.filter = "invert(100%)";
document.getElementById("import_list").style.backgroundColor="Transparent";
document.getElementById("import_list").style.color="white";
document.getElementById("import_list").style.borderColor="white";
document.getElementById("import_list").style.borderTopColor="Transparent";
document.getElementById("import_dropdown").style.filter="invert(100%)";
isdark = true;
} else {
document.documentElement.style.filter = "invert(0%)";
document.getElementById("import_list").style.backgroundColor="white";
document.getElementById("import_list").style.color="black";
document.getElementById("import_list").style.borderColor="black";
document.getElementById("import_list").style.borderTopColor="Transparent";
document.getElementById("import_dropdown").style.filter="invert(0%)";
isdark=false;
}
};

function load_template (index) {
	  var textbox = document.getElementById("textbox"),
    	cssbox = document.getElementById("cssbox"),
    	titlebox = document.getElementById("titlebox"),
    	filebox = document.getElementById("filebox");
    	
    	titlebox.value = templates[index].title;
    	cssbox.innerHTML = templates[index].css;
    	textbox.innerHTML = templates[index].body;
    	
		filebox.value = templates[index].file;    	
}
			
function show_templates (id) {
	if(!templates_imported) {
		var i;
		document.getElementById(id).innerHTML = '';
		for(i = 0; i < templates.length; i++) {
		  var tmp = "<div class=\"inline-block\" onClick=\"load_template(" + i + "); preview_code ();\">"
			+ "<div class=\"dropdown_icon\" style=\""
			+ " color: " + templates[i]['template_color'] + ";"
			+ " background-image: " + templates[i]['template_bg'] + ";"
			+ " border: 0px solid " + templates[i]['template_color'] + ";"
			+ " border-top: 0px solid " + templates[i]['template_color'] + ";"
			+ "\">&#60; &#47; &#62;"
			+ "</div>"
			+ "<a title=\"" + templates[i]['title'] + "\">" 
			+ templates[i]['title'] + "</a>" 
			+ "</div>";
			
			var editButtonHTML = document.createElement('div');
				editButtonHTML.className = 'dropdown_button inline-block';
				editButtonHTML.innerHTML = tmp;
				document.getElementById(id).appendChild(editButtonHTML);
		}
		templates_imported = true;
	}
}

function autosave () {
	  var textbox = document.getElementById("textbox"),
    	cssbox = document.getElementById("cssbox"),
    	titlebox = document.getElementById("titlebox"),
    	filebox = document.getElementById("filebox");
    	
    	docs[active_index].title = titlebox.value;
    	docs[active_index].css = cssbox.innerHTML;
    	docs[active_index].body = textbox.innerHTML;
    	docs[active_index].file = filebox.value;	
}

var docs = new Array();
var active_index = 0;

var templates = new Array();
var templates_imported = false;

const hello_world_doc = {
	title: 'My Project',
	headers: '<meta></meta>',
	css: 'body {\n \tbackground-color: #CCC;\n \tmargin: 0px;\n }\nh1 {\n \tbackground-color: #333;\n \tcolor: #FFF;\n \tpadding: 30px;\n \ttext-align: center;\n }',
	body: '<h1>Hello World</h1>',
	file: 'index.html',
	template_color : '#333',
	template_bg : 'linear-gradient(180deg, #EEE, #DDD)',
	saved: true
};
templates.push(hello_world_doc);

const sweet_pea_doc = {
	title: 'Sweet Pea',
	headers: '<meta></meta>',
	css: "body {\n \tbackground-image: linear-gradient(180deg, green, black);\n \tcolor: lime; \n\tfont-family: 'Courier New', monospace;\n }",
	body: '<h1>> Sweet and green</h1>',
	file: 'index.html',
	template_color : 'green',
	template_bg : 'linear-gradient(120deg, green, black)',
	saved: true
};
templates.push(sweet_pea_doc);

load_template(0);

		


(function () {
var textFile = null,
  makeTextFile = function (text) {
    var data = new Blob([text], {type: "text/html", endings:"native"});

    // If we are replacing a previously generated file we need to
    // manually revoke the object URL to avoid memory leaks.
    if (textFile !== null) {
      window.URL.revokeObjectURL(textFile);
    }

    textFile = window.URL.createObjectURL(data);

    return textFile;
  };
 
  makeHTML = function() {
	var html = "<html>\n<head>\n<title>\n"
    	+ titlebox.value
		+ "\n</title>\n" 
    	+ "<style>\n"
    	+ cssbox.value
    	+ "\n</style>\n"
    	+ "</head>\n<body>\n"
    	+ textbox.value
    	+ "\n</body>\n</html>\n";		
	return html;
  }  

  var create = document.getElementById("create"),
  		textbox = document.getElementById("textbox"),
    	cssbox = document.getElementById("cssbox"),
    	titlebox = document.getElementById("titlebox"),
    	filebox = document.getElementById("filebox");

  create.addEventListener("click", function () {
    var link = document.getElementById("downloadlink");
    
    var html = makeHTML(); 
    
 	link.download = filebox.value;
    link.href = makeTextFile(html);   
    link.style.display = "none";
	link.click();
  }, false);
  preview.addEventListener("click", function () {
	
    var previewframe = document.getElementById("preview_frame");
		previewframe.innerHTML = "<iframe id=\"new_frame\">" + html + "</iframe>";

    var newframe = document.getElementById("new_frame");
	var frame = (newframe.contentWindow || newframe.contentDocument); //Cross-browser support
	if (frame.document) { frame = frame.document; }	

    var html = makeHTML(); 
    
	frame.write(html);	
  }, false);  
})();

function preview_code () {
    var previewframe = document.getElementById("preview_frame");
		previewframe.innerHTML = "<iframe id=\"new_frame\">" + html + "</iframe>";

    var newframe = document.getElementById("new_frame");
	var frame = (newframe.contentWindow || newframe.contentDocument); //Cross-browser support
	if (frame.document) { frame = frame.document; }	

    var html = makeHTML(); 
    
	frame.write(html);	
}




</script>

</html>
